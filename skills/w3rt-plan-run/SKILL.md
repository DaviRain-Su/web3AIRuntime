---
name: w3rt-plan-run
description: Run a compiled workflow plan (w3rt.plan.v1) produced by ocaml-scheduler, executing steps via w3rt CLI wrappers.
homepage: https://github.com/DaviRain-Su/web3AIRuntime
metadata:
  openclaw:
    emoji: "ðŸ§ "
    requires:
      bins: ["node"]
      config: ["~/.w3rt/config.yaml"]
---

# w3rt-plan-run

This skill runs a **compiled plan** (`w3rt.plan.v1`) generated by `ocaml-scheduler`.

## Commands

```bash
cd /home/davirain/clawd/web3AIRuntime
node scripts/w3rt_plan_run.mjs --plan /path/to/plan.json
```

## Supported tools in plan

- `w3rt_balance`
- `w3rt_swap_quote`
- `w3rt_swap_exec`

## Safety

- Swap exec still requires explicit `confirm` in plan params.
- Runner enforces `dependsOn` ordering and stops on any failure.

## Demo flow

1) Compile sample workflow:

```bash
cd /home/davirain/clawd/web3AIRuntime/ocaml-scheduler
opam exec -- dune exec -- w3rt-scheduler compile examples/workflow.json --out /tmp/plan.json
```

2) Run plan:

```bash
cd /home/davirain/clawd/web3AIRuntime
node scripts/w3rt_plan_run.mjs --plan /tmp/plan.json
```

3) Show audit artifact from output using:

```bash
node scripts/w3rt_swap_safe.mjs show --run-id <runId>
```
